This is a poor example of how to implement a ffile system in Linux. It's not working fine, but it is on the path.

Feel free to change everything you want.

To learn more how to implement this code, read the pdf files attached this code